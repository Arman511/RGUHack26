@import "tailwindcss";
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Pixelify+Sans:wght@400;700&family=Press+Start+2P&display=swap");

@config "../tailwind.config.ts";

/* Override Tailwind cursor-pointer utility and any other cursor changes */
button,
a,
[role="button"],
.cursor-pointer,
input,
select,
textarea {
  cursor:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cpath d='M5 1 L5 26 L10 20 L14 30 L18 28 L14 18 L21 18 Z' fill='white' stroke='black' stroke-width='2' stroke-linejoin='round'/%3E%3C/svg%3E")
      5 1,
    default !important;
}

@layer base {
  :root {
    /* XP Desktop */
    --background: 213 71% 53%;
    --foreground: 0 0% 0%;

    /* Window body */
    --card: 0 0% 94%;
    --card-foreground: 0 0% 0%;

    /* Popover */
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 0%;

    /* XP Blue accent */
    --primary: 213 71% 40%;
    --primary-foreground: 0 0% 100%;

    /* Taskbar silver */
    --secondary: 210 10% 82%;
    --secondary-foreground: 0 0% 0%;

    /* Classic grey surfaces */
    --muted: 0 0% 88%;
    --muted-foreground: 0 0% 35%;

    /* XP green start */
    --accent: 120 50% 35%;
    --accent-foreground: 0 0% 100%;

    /* Alerts */
    --destructive: 0 75% 55%;
    --destructive-foreground: 0 0% 100%;

    /* Window borders */
    --border: 0 0% 70%;
    --input: 0 0% 75%;
    --ring: 213 71% 53%;
    --radius: 0px;

    /* XP Title bar gradient */
    --xp-title-start: 213 80% 55%;
    --xp-title-end: 220 70% 30%;

    /* XP taskbar */
    --xp-taskbar: 213 25% 75%;
    --xp-taskbar-dark: 213 15% 55%;

    /* Boss Baby warning */
    --warning: 45 100% 55%;
    --warning-foreground: 0 0% 0%;

    /* Demerit red */
    --demerit: 0 85% 50%;

    /* Success green */
    --success: 120 60% 40%;
    --success-foreground: 0 0% 100%;

    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    border-color: hsl(var(--border));
  }

  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-family: "Tahoma", "Segoe UI", Geneva, Verdana, sans-serif;
    font-size: 12px;
    overflow: hidden;
    user-select: none;
    cursor:
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cpath d='M5 1 L5 26 L10 20 L14 30 L18 28 L14 18 L21 18 Z' fill='white' stroke='black' stroke-width='2' stroke-linejoin='round'/%3E%3C/svg%3E")
        5 1,
      default;
  }

  button,
  a,
  [role="button"],
  .cursor-pointer {
    cursor:
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cpath d='M5 1 L5 26 L10 20 L14 30 L18 28 L14 18 L21 18 Z' fill='white' stroke='black' stroke-width='2' stroke-linejoin='round'/%3E%3C/svg%3E")
        5 1,
      default;
  }

  [style*="cursor: grab"],
  [style*="cursor:grab"],
  .cursor-grab {
    cursor:
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cpath d='M12 8 C12 6 14 5 16 6 L16 12 M16 6 C16 4 18 3 20 5 L20 12 M20 5 C20 3 22 3 23 5 L23 12 M10 10 C9 8 10 6 12 8 L12 14 M10 10 L10 16 C10 20 14 23 18 23 L20 23 C24 23 26 20 26 16 L26 12 L23 12 L20 12 L16 12 L12 12 L12 14' fill='white' stroke='black' stroke-width='1.5' stroke-linejoin='round' stroke-linecap='round'/%3E%3C/svg%3E")
        16 10,
      grab;
  }
}

/* XP Window styles */
@layer components {
  .xp-button {
    padding: 0.25rem 1rem;
    border-width: 2px;
    border-style: solid;
    font-size: 0.875rem;
    font-weight: 400;
    line-height: 1.25rem;
    background-color: hsl(var(--muted));
    border-color: hsl(0 0% 95%) hsl(0 0% 50%) hsl(0 0% 50%) hsl(0 0% 95%);
    min-width: 75px;
    text-align: center;
    cursor:
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cpath d='M5 1 L5 26 L10 20 L14 30 L18 28 L14 18 L21 18 Z' fill='white' stroke='black' stroke-width='2' stroke-linejoin='round'/%3E%3C/svg%3E")
        5 1,
      default !important;
  }

  .xp-button:active {
    transform: translateY(1px);
    border-color: hsl(0 0% 50%) hsl(0 0% 95%) hsl(0 0% 95%) hsl(0 0% 50%);
  }

  .xp-button-primary {
    padding: 0.25rem 1rem;
    border-width: 2px;
    border-style: solid;
    font-size: 0.875rem;
    font-weight: 400;
    line-height: 1.25rem;
    background-color: hsl(var(--muted));
    border-color: hsl(0 0% 95%) hsl(0 0% 50%) hsl(0 0% 50%) hsl(0 0% 95%);
    min-width: 75px;
    text-align: center;
    cursor:
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cpath d='M5 1 L5 26 L10 20 L14 30 L18 28 L14 18 L21 18 Z' fill='white' stroke='black' stroke-width='2' stroke-linejoin='round'/%3E%3C/svg%3E")
        5 1,
      default !important;
    border: 2px solid hsl(var(--primary));
    outline: 1px dotted hsl(0 0% 0%);
    outline-offset: -4px;
  }

  .xp-window {
    border-style: solid;
    box-shadow:
      0 10px 15px -3px rgb(0 0 0 / 0.1),
      0 4px 6px -4px rgb(0 0 0 / 0.1);
    border-color: hsl(213 60% 60%);
    border-width: 3px;
    border-radius: 8px 8px 0 0;
  }

  .xp-title-bar {
    background: linear-gradient(
      180deg,
      hsl(var(--xp-title-start)) 0%,
      hsl(213 75% 45%) 40%,
      hsl(var(--xp-title-end)) 100%
    );
    padding: 0.25rem 0.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-weight: 700;
    font-size: 0.875rem;
    line-height: 1.25rem;
    color: hsl(var(--primary-foreground));
    border-radius: 5px 5px 0 0;
  }

  .xp-title-bar-inactive {
    background: linear-gradient(
      180deg,
      hsl(0 0% 72%) 0%,
      hsl(0 0% 58%) 40%,
      hsl(0 0% 48%) 100%
    );
    padding: 0.25rem 0.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-weight: 700;
    font-size: 0.875rem;
    line-height: 1.25rem;
    color: hsl(var(--primary-foreground));
    border-radius: 5px 5px 0 0;
  }

  .xp-close-btn {
    width: 1.25rem;
    height: 1.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    line-height: 1rem;
    font-weight: 700;
    border-radius: 0.125rem;
    background: linear-gradient(180deg, hsl(0 70% 60%) 0%, hsl(0 65% 45%) 100%);
    color: white;
    border: 1px solid hsl(0 0% 30%);
    cursor:
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cpath d='M5 1 L5 26 L10 20 L14 30 L18 28 L14 18 L21 18 Z' fill='white' stroke='black' stroke-width='2' stroke-linejoin='round'/%3E%3C/svg%3E")
        5 1,
      default !important;
  }

  .xp-close-btn:hover {
    background: linear-gradient(180deg, hsl(0 80% 65%) 0%, hsl(0 70% 50%) 100%);
  }

  .xp-window-body {
    padding: 0.75rem;
    background-color: hsl(var(--card));
  }

  .xp-taskbar {
    background: linear-gradient(
      180deg,
      hsl(213 40% 80%) 0%,
      hsl(213 30% 68%) 5%,
      hsl(213 25% 72%) 50%,
      hsl(213 20% 60%) 100%
    );
    height: 2.5rem;
    display: flex;
    align-items: center;
    padding-left: 0.25rem;
    padding-right: 0.25rem;
    border-top-width: 2px;
    border-top-style: solid;
    border-color: hsl(0 0% 90%);
  }

  .xp-start-btn {
    background: linear-gradient(
      180deg,
      hsl(120 55% 45%) 0%,
      hsl(120 55% 30%) 100%
    );
    padding-left: 0.75rem;
    padding-right: 0.75rem;
    height: 2rem;
    display: flex;
    align-items: center;
    gap: 0.25rem;
    font-weight: 700;
    font-size: 0.875rem;
    line-height: 1.25rem;
    border-radius: 0 0.5rem 0.5rem 0;
    color: hsl(var(--primary-foreground));
    border: 1px solid hsl(120 40% 20%);
    cursor:
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cpath d='M5 1 L5 26 L10 20 L14 30 L18 28 L14 18 L21 18 Z' fill='white' stroke='black' stroke-width='2' stroke-linejoin='round'/%3E%3C/svg%3E")
        5 1,
      default !important;
  }

  .xp-start-btn:hover {
    background: linear-gradient(
      180deg,
      hsl(120 55% 50%) 0%,
      hsl(120 55% 35%) 100%
    );
  }

  .teams-notification {
    position: fixed;
    bottom: 5rem;
    left: 1rem;
    z-index: 50;
  }

  .confetti-piece {
    position: absolute;
    animation: confettiFall 3s ease-in-out infinite;
  }

  .pixel-text {
    /* pick the finer bitmap first, fall back to the older chunky one */
    font-family: "Press Start 2P", "Pixelify Sans", monospace;
    /* keep edges sharp */
    -webkit-font-smoothing: none;
    -moz-osx-font-smoothing: grayscale;
    font-smooth: never;
  }

  .intro-disclaimer {
    /* larger and wider disclaimer, pushed further down */
    font-size: 1.25rem;
    line-height: 1.75rem;
    text-align: center;
    margin-top: 3rem;
    font-style: italic;
    max-width: 72rem;
    color: hsl(var(--primary-foreground) / 0.7);
  }
}

@keyframes slideInRight {
  from {
    transform: translateX(120%);
    opacity: 0;
  }

  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes confettiFall {
  0% {
    transform: translateY(-100vh) rotate(0deg);
    opacity: 1;
  }

  100% {
    transform: translateY(100vh) rotate(720deg);
    opacity: 0;
  }
}

@keyframes bossEnter {
  0% {
    transform: scale(0) rotate(-20deg);
    opacity: 0;
  }

  60% {
    transform: scale(1.15) rotate(5deg);
    opacity: 1;
  }

  100% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}

@keyframes shake {
  0%,
  100% {
    transform: translateX(0);
  }

  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translateX(-4px);
  }

  20%,
  40%,
  60%,
  80% {
    transform: translateX(4px);
  }
}

@keyframes blink {
  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0;
  }
}
